version: "1.0"
metadata:
  name: multiple-runtimes
  description: Test workflow for multiple runtime requirements

requirements:
  runtimes:
    - name: python
      version: "3.9"
    - name: node
      version: "18"
    - name: go
      version: "1.21"

workflow:
  steps:
    - id: test_python
      run: "python3 scripts/data_processor.py"
      with:
        test_param: "hello python"
      outputs:
        runtime:
          type: string
          description: Runtime used
        version:
          type: string
          description: Runtime version
        message:
          type: string
          description: Test message

    - id: test_node
      run: "node scripts/text_processor.js"
      with:
        test_param: "hello node"
      outputs:
        runtime:
          type: string
          description: Runtime used
        version:
          type: string
          description: Runtime version
        message:
          type: string
          description: Test message

    - id: test_go
      run: "go run scripts/system_info.go"
      with:
        test_param: "hello go"
      outputs:
        runtime:
          type: string
          description: Runtime used
        version:
          type: string
          description: Runtime version
        message:
          type: string
          description: Test message

  outputs:
    python_result: ${{ steps.test_python.outputs }}
    node_result: ${{ steps.test_node.outputs }}
    go_result: ${{ steps.test_go.outputs }}
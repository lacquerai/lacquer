version: "1.0"

metadata:
  name: "simple-tools-test"

agents:
  tool_agent:
    model: "gpt-4"
    tools:
      - name: "web_search"
        uses: "lacquer/web-search@v1"
        
      - name: "custom_script"
        script: "python scripts/analyzer.py"
        
      - name: "mcp_filesystem"
        mcp_server: "filesystem"

workflow:
  steps:
    - id: tool_step
      agent: tool_agent
      prompt: "Use the available tools to process data"
      
    - id: block_step
      uses: "lacquer/redis@v1"
      with:
        command: "SET"
        key: "workflow_result"
        value: "{{ steps.tool_step.output }}"
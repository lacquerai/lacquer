version: "1.0"

metadata:
  name: "unicode-test-工作流"
  description: "测试Unicode字符支持 🚀"
  author: "José María García-Rodríguez"

agents:
  multilingual_agent:
    model: "gpt-4"
    system_prompt: |
      You are a multilingual assistant. You can work with:
      - English 🇺🇸
      - Español 🇪🇸  
      - Français 🇫🇷
      - Deutsch 🇩🇪
      - 日本語 🇯🇵
      - 中文 🇨🇳
      - العربية 🇸🇦
      - हिन्दी 🇮🇳
      - русский 🇷🇺

workflow:
  inputs:
    message:
      type: "string"
      description: "消息内容 (Message content)"
      default: "こんにちは世界！"
      
    language:
      type: "string"
      description: "目标语言 (Target language)"
      enum: ["en", "es", "fr", "de", "ja", "zh", "ar", "hi", "ru"]
      default: "en"
      
  steps:
    - id: process_unicode
      agent: multilingual_agent
      prompt: |
        Process this multilingual content:
        
        English: Hello World! 🌍
        Español: ¡Hola Mundo! 🌎
        Français: Bonjour le Monde! 🌏
        Deutsch: Hallo Welt! 🌐
        日本語: こんにちは世界！ 🗾
        中文: 你好世界！ 🇨🇳
        العربية: مرحبا بالعالم! 🌙
        हिन्दी: नमस्ते दुनिया! 🕉️
        русский: Привет мир! 🇷🇺
        
        User message: {{ inputs.message }}
        Target language: {{ inputs.language }}
        
        Émojis and symbols: ★☆♠♣♥♦♪♫
        Math symbols: ∑∏∫∆∇∞≈≠≤≥
        Currency: $€£¥₹₽₩₪
        
    - id: validate_encoding
      agent: multilingual_agent
      prompt: |
        Validate that all Unicode characters are properly encoded:
        
        Input contained: {{ inputs.message }}
        Processing result: {{ steps.process_unicode.output }}
        
        Test various Unicode ranges:
        - Basic Latin: ABC abc 123
        - Latin Extended: àáâãäåæçèéêë
        - Cyrillic: абвгдеёжзийкл
        - CJK: 漢字ひらがなカタカナ한글
        - Arabic: العربية
        - Symbols: ∀∃∄∅∆∇∈∉∋∌
        
  outputs:
    processed_text: "{{ steps.process_unicode.output }}"
    validation_result: "{{ steps.validate_encoding.output }}"
    original_message: "{{ inputs.message }}"
    target_language: "{{ inputs.language }}"